sudo dnf install -y dnf-plugins-core
sudo dnf config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo
sudo dnf -y install terraform

-----------
Terraform-(IPAD)
terraform init
terraform plan
terraform apply
terraform destroy
terraform fmt
===
resource "aws_instance" "myinstance" {
  ami           = "ami-07860a2d7eb515d9a"
  instance_type = "t2.micro"
  tags = {
    Name = "Teja-server"
  }
  lifecycle{
    create_before_destroy = true
    ignore_changes = [tags]
    prevent_destroy = true
  }
}
-------------
resource "aws_security_group" "mysg" {
  name        = "Terraform-sg"
  description = "this will be created by terraform"

  dynamic "ingress" {
    for_each = var.ports
    content{
      from_ports = ingress.value
      to_ports = ingress.value
      protocol = "tcp"
      cidr_blocks = ["0.0.0.0/0"]
    }
  }

  egress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }
}

variable "ports" {
  type = list(any)
  default = [22, 80, 443, 50000, 8088, 9000]
}
